<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.7/dist/sweetalert2.min.css">


  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
          integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
          crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
          crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.7/dist/sweetalert2.all.min.js"></script>

  <title>제작페이지</title>

    <style>
      *{
        font-family: 'Jua', sans-serif;
      }
      .backcolor {
        width: 100%;
        height: 100%;
        text-align: center;
        position: relative;
        z-index: 1;
      }

      .backcolor::after {
        width: 100%;
        height: 100%;
        content: "";
        background: url("https://cdn.pixabay.com/photo/2020/10/14/16/14/space-5654794_960_720.png");
        position: absolute;
        top: 0;
        left: 0;
        z-index: -1;
        opacity: 0.8;
      }
      .wrap{
        width: 1000px;
        padding-top: 50px;
        margin: auto;
        background-color: #f4eae5;
        border: 3px solid #eeb8ba;
      }
      .wrap2{
        width: 550px;
        padding-top: 30px;
        margin: auto;
      }

      .family-info {
        width: 275px;
        margin-bottom: 20px;
      }
      .birthday{
          width: 550px;
        margin-bottom: 20px;
      }

      .baby-img {
        width: 550px;
        height: 300px;
        margin-bottom: 20px;

        background-image: url("https://cdn.pixabay.com/photo/2017/11/23/07/47/baby-2972221_960_720.jpg");
        background-position: center;
        background-size: cover;
      }

      .savebtn{
        margin:auto;
        display: block;
      }

    </style>

    <script>


      function textsave() {
          let email = $('#input-email').val()
        let babyname = $('#babyname').val()
        let mothername = $('#mothername').val()
        let fathername = $('#fathername').val()
        let birthyear = $('#birthyear').val()
        let birthmonth = $('#birthmonth').val()
        let birthday = $('#birthday').val()
        let birthhour = $('#birthhour').val()
        let birthminute = $('#birthminute').val()

        $.ajax({
          type: "POST",
          url: "/upload",
          data: {
              email: email,
            baby_name: babyname,
            mother_name: mothername,
            father_name: fathername,
            birth_year: birthyear,
            birth_month: birthmonth,
            birth_day: birthday,
            birth_hour: birthhour,
            birth_minute: birthminute
          },
          success: function (response) {
          }
        })
      }



      function savebtn() {
          let id = $('#input-email').val()
          Swal.fire({
              icon: 'success',
              title: '저장이 완료되었습니다.',
              showConfirmButton: false,
              timer: 1500
          })
          setTimeout(function () {
              location.href = `/result/${id}`
          }, 1500);
      }

      function sendEmail() {
          let email = $('#input-email').val()
          $.ajax({
              type: 'POST',
              url: '/make_photo',
              data: {
                  email: email
              },
              success: function(response) {

              }
          })
      }


    </script>
</head>
<body>
  <div class="backcolor">
    <div class="wrap">
      <h1 style="color: #5cb9a6">우리 아이의 사진첩을 만들어보아요</h1>
      <div class="wrap2">
        <div class="container">
              <h5 style="font-weight: bold">이메일을 적어주세요</h5>
              <input type="email" id="input-email" class="form-control form-control-lg" placeholder="email@sample.com">
        </div>
        <div class="family-info container">
          <h5 style="font-weight: bold">이름을 적어주세요</h5>
          <div class="input-group mb-3">
            <span class="input-group-text bg-info">아기</span>
            <input id="babyname" type="text" class="form-control" placeholder="" aria-label="Username"
                   aria-describedby="basic-addon1">
          </div>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text bg-info">엄마</span>
            </div>
            <input id="mothername" type="text" class="form-control" placeholder="" aria-label="Username"
                   aria-describedby="basic-addon1">
          </div>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text bg-info">아빠</span>
            </div>
            <input id="fathername" type="text" class="form-control" placeholder="" aria-label="Username"
                   aria-describedby="basic-addon1">
          </div>
        </div>
          <div class="birthday container">
              <h5 style="font-weight: bold">아기 탄생일</h5>
              <div class="row">
                  <div class="col">
                      <select id="birthyear" class="form-select">
                          <option>년도</option>
                          <option value="2019">2019</option>
                          <option value="2020">2020</option>
                          <option value="2021">2021</option>
                          <option value="2022">2022</option>
                      </select>
                  </div>
                  <div class="col">
                      <select id="birthmonth" class="form-select">
                          <option>월</option>
                          <option value="01">01</option>
                          <option value="02">02</option>
                          <option value="03">03</option>
                          <option value="04">04</option>
                          <option value="05">05</option>
                          <option value="06">06</option>
                          <option value="07">07</option>
                          <option value="08">08</option>
                          <option value="09">09</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                      </select>
                  </div>
                  <div class="col">
                      <select id="birthday" class="form-select">
                          <option>일</option>
                          <option value="01">01</option>
                          <option value="02">02</option>
                          <option value="03">03</option>
                          <option value="04">04</option>
                          <option value="05">05</option>
                          <option value="06">06</option>
                          <option value="07">07</option>
                          <option value="08">08</option>
                          <option value="09">09</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                          <option value="13">13</option>
                          <option value="14">14</option>
                          <option value="15">15</option>
                          <option value="16">16</option>
                          <option value="17">17</option>
                          <option value="18">18</option>
                          <option value="19">19</option>
                          <option value="20">20</option>
                          <option value="21">21</option>
                          <option value="22">22</option>
                          <option value="23">23</option>
                          <option value="24">24</option>
                          <option value="25">25</option>
                          <option value="26">26</option>
                          <option value="27">27</option>
                          <option value="28">28</option>
                          <option value="29">29</option>
                          <option value="30">30</option>
                          <option value="31">31</option>
                      </select>
                  </div>
                  <div class="col">
                      <select id="birthhour" class="form-select">
                          <option>시</option>
                          <option value="01">01</option>
                          <option value="02">02</option>
                          <option value="03">03</option>
                          <option value="04">04</option>
                          <option value="05">05</option>
                          <option value="06">06</option>
                          <option value="07">07</option>
                          <option value="08">08</option>
                          <option value="09">09</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                          <option value="13">13</option>
                          <option value="14">14</option>
                          <option value="15">15</option>
                          <option value="16">16</option>
                          <option value="17">17</option>
                          <option value="18">18</option>
                          <option value="19">19</option>
                          <option value="20">20</option>
                          <option value="21">21</option>
                          <option value="22">22</option>
                          <option value="23">23</option>
                          <option value="24">24</option>
                      </select>
                  </div>
                  <div class="col">
                      <select id="birthminute" class="form-select">
                          <option>분</option>
                          <option value="00">00</option>
                          <option value="01">01</option>
                          <option value="02">02</option>
                          <option value="03">03</option>
                          <option value="04">04</option>
                          <option value="05">05</option>
                          <option value="06">06</option>
                          <option value="07">07</option>
                          <option value="08">08</option>
                          <option value="09">09</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                          <option value="13">13</option>
                          <option value="14">14</option>
                          <option value="15">15</option>
                          <option value="16">16</option>
                          <option value="17">17</option>
                          <option value="18">18</option>
                          <option value="19">19</option>
                          <option value="20">20</option>
                          <option value="21">21</option>
                          <option value="22">22</option>
                          <option value="23">23</option>
                          <option value="24">24</option>
                          <option value="25">25</option>
                          <option value="26">26</option>
                          <option value="27">27</option>
                          <option value="28">28</option>
                          <option value="29">29</option>
                          <option value="30">30</option>
                          <option value="31">31</option>
                          <option value="32">32</option>
                          <option value="33">33</option>
                          <option value="34">34</option>
                          <option value="35">35</option>
                          <option value="36">36</option>
                          <option value="37">37</option>
                          <option value="38">38</option>
                          <option value="39">39</option>
                          <option value="40">40</option>
                          <option value="41">41</option>
                          <option value="42">42</option>
                          <option value="43">43</option>
                          <option value="44">44</option>
                          <option value="45">45</option>
                          <option value="46">46</option>
                          <option value="47">47</option>
                          <option value="48">48</option>
                          <option value="49">49</option>
                          <option value="50">50</option>
                          <option value="51">51</option>
                          <option value="52">52</option>
                          <option value="53">53</option>
                          <option value="54">54</option>
                          <option value="55">55</option>
                          <option value="56">56</option>
                          <option value="57">57</option>
                          <option value="58">58</option>
                          <option value="59">59</option>
                      </select>
                  </div>
              </div>
        </div>
        <h5 style="font-weight: bold">사진을 넣어주세요</h5>
        <div class="baby-img"></div>


        <iframe id="iframe1" name="iframe1" style="display:none"></iframe>
        <form action="/make_photo" method="post" enctype="multipart/form-data" target="iframe1">
          <div class="input-group mb-3">
              <label class="input-group-text bg-warning bg-opacity-50">현재사진</label>
              <input type="file" class="form-control" name="photopresent">
          </div>
          <div class="input-group mb-3">
              <label class="input-group-text bg-warning bg-opacity-50">가족사진</label>
              <input type="file" class="form-control" name="photofamily">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-25">탄생일</label>
            <input type="file" class="form-control" name="photo1d">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-25">50일</label>
            <input type="file" class="form-control" name="photo50d">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-25">100일</label>
            <input type="file" class="form-control" name="photo100d">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-50">4개월</label>
            <input type="file" class="form-control" name="photo4mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-50">5개월</label>
            <input type="file" class="form-control" name="photo5mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-50">6개월</label>
            <input type="file" class="form-control" name="photo6mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-50">7개월</label>
            <input type="file" class="form-control" name="photo7mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-50">8개월</label>
            <input type="file" class="form-control" name="photo8mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-50">9개월</label>
            <input type="file" class="form-control" name="photo9mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-75">10개월</label>
            <input type="file" class="form-control" name="photo10mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-75">11개월</label>
            <input type="file" class="form-control" name="photo11mth">
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text bg-primary bg-opacity-75">12개월</label>
            <input type="file" class="form-control" name="photo12mth">
          </div>
           <button class="btn btn-primary savebtn" onclick="savebtn(),textsave(),sendEmail()">
            저장하기
          </button>
        </form>

      </div>
    </div>
  </div>

</body>
</html>